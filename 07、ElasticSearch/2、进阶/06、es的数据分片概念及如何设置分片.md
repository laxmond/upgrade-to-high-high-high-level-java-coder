## es的数据分片概念及如何设置分片



#### 1、数据分片概念及优势

类似于mysql的分表，在es中当数据量太大，可以将数据分片保存，一个索引的数据可以是保存在不同的数据分片中。



数据分片的优点：

1. 扩展内容容量
2. 分片上可以进行分布式、并行的操作，提高了性能和吞吐量。



#### 2、如何设置分片

在创建索引的时候（<font color="red">千万不能在索引已经创建了的情况下，设置分片，否则会报错！</font>），向es服务器发送PUT请求，请求地址为：`http://ip:port/索引名称`,请求体为：

```json
{
  "settings":{
  	"number_of_shards":3 //分片个数为3
  }
}
```



如果一个索引已经存在，就不能再修改分片数量了，只能在创建的时候设置分片数量！

